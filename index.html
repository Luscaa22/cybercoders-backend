<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>CyberCoders Studio | Administração</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: radial-gradient(circle at top, #3a0ca3, #0b061a);
  color: #fff;
}

header {
  text-align: center;
  padding: 30px 15px;
}

header img.logo {
  width: 120px;
  margin-bottom: 10px;
}

header h1 {
  margin: 10px 0 5px;
  color: #c77dff;
}

header p {
  color: #ccc;
  font-size: 14px;
}

.banner {
  width: 100%;
  max-width: 900px;
  margin: 20px auto;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 0 30px rgba(140,0,255,0.6);
}

.banner img {
  width: 100%;
  display: block;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 20px;
}

.card {
  background: rgba(20,10,40,0.9);
  border-radius: 16px;
  padding: 25px;
  box-shadow: 0 0 25px rgba(140,0,255,0.5);
}

label {
  display: block;
  margin-top: 16px;
  font-weight: 600;
}

input, textarea, select {
  width: 100%;
  margin-top: 6px;
  padding: 12px;
  border-radius: 10px;
  border: none;
  background: #1a0f33;
  color: #fff;
  outline: none;
}

textarea {
  resize: vertical;
  min-height: 90px;
}

button {
  width: 100%;
  margin-top: 25px;
  padding: 14px;
  border-radius: 12px;
  border: none;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
  background: linear-gradient(90deg, #7209b7, #b517ff);
  color: #fff;
  transition: 0.2s;
}

button:hover {
  transform: scale(1.02);
  opacity: 0.9;
}

.status {
  margin-top: 15px;
  text-align: center;
  font-size: 14px;
}

footer {
  text-align: center;
  padding: 25px 10px;
  color: #aaa;
  font-size: 13px;
}

.hidden {
  display: none;
}
</style>
</head>

<body>

<header>
  <img src="logo.png" class="logo">
  <h1>CyberCoders Studio</h1>
  <p>Formulário oficial para candidatura à administração</p>

  <label style="max-width:200px;margin:15px auto 0;">Idioma / Language</label>
  <select id="language" onchange="updateLanguage()">
    <option value="pt">Português</option>
    <option value="en">English</option>
  </select>
</header>

<div class="banner">
  <img src="banner.png">
</div>

<div class="container">
  <div class="card">
    <form id="form">

      <label id="lName">Nome completo</label>
      <input id="name" minlength="3" required>

      <label id="lAge">Idade (mínimo 13 anos)</label>
      <input id="age" type="number" min="13" required>

      <label id="lDiscord">Usuário do Discord</label>
      <input id="discord" minlength="3" required>

      <label id="lWhy">Por que deseja entrar na administração do CyberCoders Studio?</label>
      <textarea id="why" minlength="30" required></textarea>

      <label id="lHelp">De que forma você pretende contribuir com o servidor?</label>
      <textarea id="help" minlength="30" required></textarea>

      <label id="lSituation">
        Caso presencie atitudes como racismo, xenofobia ou bullying, qual seria sua atitude?
      </label>
      <textarea id="situation" minlength="30" required></textarea>

      <label id="lKnow">Você possui conhecimento em alguma linguagem de programação?</label>
      <select id="know" onchange="toggleLang()">
        <option value="Não">Não</option>
        <option value="Sim">Sim</option>
      </select>

      <div id="langs" class="hidden">
        <label id="lWhich">Quais linguagens?</label>
        <input id="languages" minlength="2">
      </div>

      <button type="button" onclick="sendForm()">Enviar candidatura</button>
    </form>

    <div class="status" id="status"></div>
  </div>
</div>

<footer>
  Site by: LuscaaDevx
</footer>

<script>
function toggleLang() {
  document.getElementById("langs").classList.toggle(
    "hidden",
    document.getElementById("know").value !== "Sim"
  )
}

function updateLanguage() {
  const pt = language.value === "pt"

  lName.innerText = pt ? "Nome completo" : "Full name"
  lAge.innerText = pt ? "Idade (mínimo 13 anos)" : "Age (minimum 13 years old)"
  lDiscord.innerText = pt ? "Usuário do Discord" : "Discord username"
  lWhy.innerText = pt
    ? "Por que deseja entrar na administração do CyberCoders Studio?"
    : "Why do you want to join CyberCoders Studio administration?"
  lHelp.innerText = pt
    ? "De que forma você pretende contribuir com o servidor?"
    : "How do you intend to contribute to the server?"
  lSituation.innerText = pt
    ? "Caso presencie atitudes como racismo, xenofobia ou bullying, qual seria sua atitude?"
    : "If you witness racism, xenophobia or bullying, what would be your action?"
  lKnow.innerText = pt
    ? "Você possui conhecimento em alguma linguagem de programação?"
    : "Do you have knowledge in any programming language?"
  lWhich.innerText = pt ? "Quais linguagens?" : "Which languages?"
}

async function sendForm() {
  const status = document.getElementById("status")
  status.innerText = "Enviando candidatura..."

  if (age.value < 13) {
    status.innerText = "Idade mínima permitida é 13 anos"
    return
  }

  const res = await fetch("/api/submit", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      fields: [
        { name: "Nome", value: name.value },
        { name: "Idade", value: age.value },
        { name: "Discord", value: discord.value },
        { name: "Motivação", value: why.value },
        { name: "Contribuição", value: help.value },
        { name: "Situação ética", value: situation.value },
        { name: "Programação", value: know.value, inline: true },
        { name: "Linguagens", value: languages.value || "Nenhuma", inline: true }
      ]
    })
  })

  if (res.status === 403) {
    status.innerText = "O formulário encontra-se fechado no momento"
    return
  }

  status.innerText = "Candidatura enviada com sucesso"
  form.reset()
  toggleLang()
}
</script>

</body>
</html>
